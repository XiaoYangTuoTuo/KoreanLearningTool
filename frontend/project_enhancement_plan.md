# 朝鲜语学习平台 (아아咖啡厅) - 全面优化与功能完善计划

## 1. 项目现状诊断
当前项目框架已搭建，但存在以下核心痛点：
- **数据孤岛**：用户学习数据（打字速度、准确率、学习时长）未存储，导致《品鉴记录》无法统计。
- **功能缺失**：主页提及的“AI 咖啡师”、“口味调整”等模块均为静态展示，缺乏实际交互。
- **AI 能力薄弱**：当前的纠错反馈仅为简单的字符串比对，缺乏语法分析和针对性建议。
- **模块不全**：导航栏和路由仅覆盖了基础的打字和语法，缺乏单词记忆、听力等进阶模块。

## 2. 详细实施路线图 (Roadmap)

### 第一阶段：数据中台与持久化 (Data Core)
**目标**：让“品鉴记录”动起来。
1.  **构建全局状态库 (Zustand Store)**：
    -   `userStore`: 管理用户等级、积分（会员点数）、注册时间。
    -   `statsStore`: 记录每一次打字练习的 WPM (每分钟字数)、准确率、错误字符详情。
    -   `progressStore`: 记录语法学习进度、已掌握单词量。
2.  **数据持久化**：
    -   利用 `localStorage` 实现本地数据保存，确保刷新后数据不丢失。

### 第二阶段：AI 咖啡师智能升级 (AI Barista 2.0)
**目标**：拒绝只会说“Good”的假 AI，提供有深度的纠错。
1.  **本地智能分析引擎**：
    -   引入 `diff-match-patch` 算法，精确识别多字、少字、错字。
    -   **语法规则匹配器**：针对韩语特性（助词、词尾），编写本地规则库。当用户将 `는` 错打为 `가` 时，能弹出具体的语法提示（如：“这里更适合用主题助词”）。
2.  **LLM 接入 (可选高级功能)**：
    -   预留 OpenAI/Gemini 接口，允许用户配置 Key 后进行深度的句子润色和自然语言解释。

### 第三阶段：核心页面功能实装 (Feature Implementation)
**目标**：填补 UI 中的功能空白。
1.  **个人中心 (Profile) 重构**：
    -   **速度趋势图**：引入 `recharts` 图表库，根据 `statsStore` 里的历史数据绘制真实的折线图。
    -   **错题本 (口味调整)**：自动收集用户在打字练习中高频出错的单词和语法点，生成专属复习列表。
2.  **打字练习 (Typing) 增强**：
    -   增加“实时反馈模式”：打错字时屏幕出现视觉反馈（如咖啡溅出特效）。
    -   增加“结算小票”：练习结束后生成一张仿咖啡小票的成绩单，包含速度、准确率和 AI 评语。

### 第四阶段：新模块拓展 (Expansion)
**目标**：丰富学习资源。
1.  **每日词汇 (Daily Vocabulary)**：
    -   新增“今日特供单词”卡片功能，支持翻转记忆。
2.  **闯关模式 (Challenge Mode)**：
    -   基于积分的解锁机制，只有积分达到一定程度才能解锁“高级语法”或“高难度韩剧台词”。

## 3. 技术栈补充
-   **状态管理**: `zustand` (轻量级，适合本项目)
-   **图表库**: `recharts` (React 生态中最成熟的图表库)
-   **工具库**: `date-fns` (处理时间), `diff-match-patch` (文本比对)

## 4. 立即执行计划 (Next Steps)
1.  安装必要的依赖库 (`recharts`, `zustand`, `diff-match-patch` 等)。
2.  创建 `src/store` 目录并实现数据存储逻辑。
3.  重写 `Profile.tsx`，接入真实数据。
4.  开发 `AIBarista` 服务类，实现智能纠错逻辑。
